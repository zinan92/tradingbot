<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backtest Report - EMACrossStrategy</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        h2 {
            color: #555;
            margin-top: 30px;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metric-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #4CAF50;
        }
        .metric-label {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-top: 5px;
        }
        .positive { color: #4CAF50; }
        .negative { color: #f44336; }
        .summary {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 4px;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #f5f5f5;
            font-weight: 600;
        }
        .timestamp {
            color: #777;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Backtest Report: EMACrossStrategy</h1>
        
        <div class="timestamp">
            Generated: 2025-08-10 12:41:54
        </div>
        
        <div class="summary">
            <h2>Summary</h2>
            <p><strong>Total Returns:</strong> <span class="positive">25.00%</span></p>
            <p><strong>Sharpe Ratio:</strong> 1.25</p>
            <p><strong>Max Drawdown:</strong> <span class="negative">15.50%</span></p>
            <p><strong>Total Trades:</strong> 45</p>
        </div>
        
        <h2>Key Metrics</h2>
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-label">Sharpe Ratio</div>
                <div class="metric-value">1.25</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Profit Factor</div>
                <div class="metric-value">1.80</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Win Rate</div>
                <div class="metric-value">52.0%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Max Drawdown</div>
                <div class="metric-value negative">15.5%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Total Returns</div>
                <div class="metric-value positive">25.0%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Total Trades</div>
                <div class="metric-value">45</div>
            </div>
        </div>
        
        <h2>Trade Statistics</h2>
        <table>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Total Trades</td>
                <td>45</td>
            </tr>
            <tr>
                <td>Winning Trades</td>
                <td class="positive">23</td>
            </tr>
            <tr>
                <td>Losing Trades</td>
                <td class="negative">22</td>
            </tr>
            <tr>
                <td>Win Rate</td>
                <td>52.0%</td>
            </tr>
            <tr>
                <td>Profit Factor</td>
                <td>1.80</td>
            </tr>
        </table>
        
        <h2>Strategy Parameters</h2><ul><li><strong>strategy:</strong> EMACrossStrategy</li><li><strong>params:</strong> {'fast_period': 12, 'slow_period': 50, 'take_profit_pct': 0.02, 'stop_loss_pct': 0.02, 'position_size': 0.95, 'use_volume_filter': False}</li><li><strong>symbol:</strong> BTCUSDT</li><li><strong>timeframe:</strong> 5m</li><li><strong>start_date:</strong> 2025-07-11T12:41:54.799701</li><li><strong>end_date:</strong> 2025-08-10T12:41:54.799701</li><li><strong>initial_capital:</strong> 10000</li><li><strong>commission:</strong> 0.001</li><li><strong>slippage:</strong> 0.0005</li></ul>
        
        <h2>Performance Chart</h2>
        <p><em>Equity curve visualization would go here. See equity.csv for data.</em></p>
        
        <h2>Recent Trades</h2>
        <p>Showing last 10 trades. See trades.csv for complete history.</p>
        <table>
            <tr>
                <th>Entry Time</th>
                <th>Exit Time</th>
                <th>Symbol</th>
                <th>Side</th>
                <th>PnL</th>
                <th>PnL %</th>
            </tr>
            <tr>
                <td>2025-08-03T20:41:54.801407</td>
                <td>2025-08-04T01:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-81.99</td>
                <td class="negative">-0.77%</td>
            </tr><tr>
                <td>2025-08-04T12:41:54.801407</td>
                <td>2025-08-04T16:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>short</td>
                <td class="negative">-29.09</td>
                <td class="negative">-1.25%</td>
            </tr><tr>
                <td>2025-08-05T04:41:54.801407</td>
                <td>2025-08-05T07:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-56.01</td>
                <td class="negative">-0.63%</td>
            </tr><tr>
                <td>2025-08-05T20:41:54.801407</td>
                <td>2025-08-05T22:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>short</td>
                <td class="negative">-60.32</td>
                <td class="negative">-1.39%</td>
            </tr><tr>
                <td>2025-08-06T12:41:54.801407</td>
                <td>2025-08-06T13:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-30.16</td>
                <td class="negative">-1.59%</td>
            </tr><tr>
                <td>2025-08-07T04:41:54.801407</td>
                <td>2025-08-07T07:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>short</td>
                <td class="negative">-33.56</td>
                <td class="negative">-1.50%</td>
            </tr><tr>
                <td>2025-08-07T20:41:54.801407</td>
                <td>2025-08-08T00:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-48.39</td>
                <td class="negative">-0.59%</td>
            </tr><tr>
                <td>2025-08-08T12:41:54.801407</td>
                <td>2025-08-08T17:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-46.99</td>
                <td class="negative">-1.23%</td>
            </tr><tr>
                <td>2025-08-09T04:41:54.801407</td>
                <td>2025-08-09T05:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-71.33</td>
                <td class="negative">-1.85%</td>
            </tr><tr>
                <td>2025-08-09T20:41:54.801407</td>
                <td>2025-08-10T00:41:54.801407</td>
                <td>BTCUSDT</td>
                <td>long</td>
                <td class="negative">-50.21</td>
                <td class="negative">-0.71%</td>
            </tr>
        </table>
    </div>
</body>
</html>